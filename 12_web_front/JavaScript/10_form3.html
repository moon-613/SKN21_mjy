<!-- 26/01/13(화) 14:20 -->
<!-- form3.html -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <div class="container mt-2">
            <form name="f1" action="/add" onsubmit="return checkSel()">  <!-- onsubmit은 submit handler -->
                <input type="submit" value="전송" class="btn btn-primary mb-2"/><br />
                <select name="phone" onchange="get_item()" class="form-select">
                    <option value="default">번호선택</option>
                    <option>010</option>
                    <option>011</option>
                    <option>016</option>
                    <option>019</option>
                </select>
                <!-- name이 같으면 하나의 radio group으로 묶임. 같은 그룹에서는 하나만 선택 가능 -->
                 <input type="radio" name="option">A<br>
                 <input type="radio" name="option">B<br>
                 <input type="radio" name="option">C<br>
            </form>
        </div>
        <script>
            function get_item() {
                // onchange handler에서 호출. change event => select에 선택된 값이 변경되면 발생. 
                const select = document.f1.phone;
                // 선택된 option의 index: 0 ~
                console.log("selectedIndex", select.selectedIndex);
                console.log("value", select.value); // 선택된 option의 value 값
                const options = select.options;  // <option>들을 배열 (node list)로 반환.
                const selectedOption = options[select.selectedIndex];  // 선택된 option을 조회
                console.log(options);
                // <option value=value>text</>
                const text = selectedOption.text;  // text
                const value = selectedOption.value;  // value
                console.log(text, value);
            }

            function checkSel() {
                // 번호 선택 (첫 번째 option)이 선택되면 전송되지 않게 한다.
                // 몇 번째 option이 선택됐는지 조회 -> select 객체. selectedIndex
                const select = document.f1.phone;
                const selectedIdx = select.selectedIndex;
                console.log("selection Idx", selectedIdx);
                if (selectedIdx === 0 ){
                    alert("번호를 선택하세요");
              return false;
                }
            }
        </script>
    </body>
</html>
